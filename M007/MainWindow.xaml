<Window x:Class="M007.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:M007"
        Title="MainWindow" Height="450" Width="800"
		WindowStartupLocation="CenterScreen" Topmost="True"
		DataContext="{Binding RelativeSource={RelativeSource Self}}">
	<Window.Resources>
		<Style TargetType="Button">
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border BorderBrush="Aqua" BorderThickness="2" CornerRadius="5">
							<TextBlock Text="{TemplateBinding Content}"
								   Background="{TemplateBinding Background}"
								   Foreground="{TemplateBinding Foreground}"
								   FontSize="{TemplateBinding FontSize}"
								   TextAlignment="Center"/>
						</Border>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<local:MarkeToImagePathConverter x:Key="MIPC"/>

		<DataTemplate DataType="{x:Type local:Fahrzeug}">
			<StackPanel Orientation="Horizontal">
				<Image Width="20" Height="20" Source="{Binding Marke, Converter={StaticResource MIPC}}"/>
				<Image Width="20" Height="20" Source="C:\Users\lk3\source\repos\WPF_2026_01_27\M007\bin\Debug\net9.0-windows\Images\velocity.png"/>
				<TextBlock Text="{Binding MaxV, StringFormat=' {0}km/h '}" VerticalAlignment="Center"/>
			</StackPanel>
		</DataTemplate>
	</Window.Resources>
    <StackPanel Margin="10">
		<!--Templates-->
		<!--Darstellen von GUI-Elementen verändern-->
		<!--2 Typen: ControlTemplate, DataTemplate-->
		
		<!--ControlTemplate-->
		<!--Grundlegende Struktur von einer Komponente anpassen-->
		<Button Content="Hallo" Background="Black" Foreground="White" FontSize="30">
			<Button.Template>
				<!--WICHTIG: TargetType angeben-->
				<ControlTemplate TargetType="Button">
					<Border BorderBrush="Aqua" BorderThickness="2" CornerRadius="5">
						<!--TemplateBinding-->
						<!--Wird ausschließlich in ControlTemplates verwendet-->
						<!--Übernimmt Werte, die auf der Komponente selbst gesetzt sind-->
						<TextBlock Text="{TemplateBinding Content}"
								   Background="{TemplateBinding Background}"
								   Foreground="{TemplateBinding Foreground}"
								   FontSize="{TemplateBinding FontSize}"
								   TextAlignment="Center"/>
					</Border>
				</ControlTemplate>
			</Button.Template>
		</Button>
		
		<!--Wenn ein ControlTemplate innerhalb eines Styles als Resource definiert wird, wird es global angewandt-->
		<Button Content="Hallo"/>
		
		<!--.................................................................-->

		<!--DataTemplate-->
		<!--Aussehen von Listenelementen innerhalb einer Listenkomponente anpassen-->
		<ListBox ItemsSource="{Binding Fahrzeuge}">
			<ListBox.ItemTemplate>
				<DataTemplate>
					<StackPanel Orientation="Horizontal">
						<Image Width="20" Height="20" Source="{Binding Marke, Converter={StaticResource MIPC}}"/>
						<Image Width="20" Height="20" Source="C:\Users\lk3\source\repos\WPF_2026_01_27\M007\bin\Debug\net9.0-windows\Images\velocity.png"/>
						<TextBlock Text="{Binding MaxV, StringFormat=' {0}km/h '}" VerticalAlignment="Center"/> <!--Wenn ein StringFormat mit {0} beginnt, muss ein \ am Anfang stehen-->
						<!--<TextBlock Text="{Binding Marke, StringFormat='Marke: {0}'}" VerticalAlignment="Center"/>-->
					</StackPanel>
				</DataTemplate>
			</ListBox.ItemTemplate>
		</ListBox>

		<!--Wenn ein DataTemplate global angelegt wird, wird es hier auch verwendet-->
		<!--WICHTIG: DataType angeben (mit x:Type)-->
		<ComboBox ItemsSource="{Binding Fahrzeuge}"/>

		<!--.................................................................-->

		<!--ItemsPanelTemplate-->
		<!--Den Container der Listenkomponente verändern-->
		<!--Standard: StackPanel-->
		<ListBox ItemsSource="{Binding Fahrzeuge}">
			<ListBox.ItemsPanel>
				<ItemsPanelTemplate>
					<UniformGrid Rows="2"/>
				</ItemsPanelTemplate>
			</ListBox.ItemsPanel>
		</ListBox>
	</StackPanel>
</Window>
